{"version":3,"sources":["../src/ComplexState.js"],"names":["ComplexState","name","initialState","subState","subReducers","Object","keys","reduce","subsResult","subsKey","modifiedParts","result","key","makeActionType","makeAction","actionTypes","length","reducer"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;;;IAEqBA,Y;;;AAEnB,wBAAYC,IAAZ,EAAkBC,YAAlB,EAA+C;AAAA,QAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AAAA,4HACvCF,IADuC,EACjCC,YADiC;;AAG7C,QAAME,cAAcC,OAAOC,IAAP,CAAYH,QAAZ,EAAsBI,MAAtB,CAA6B,UAACC,UAAD,EAAaC,OAAb,EAAyB;;AAExE,UAAMC,gBAAgBL,OAAOC,IAAP,CAAYH,SAASM,OAAT,CAAZ,EAA+BF,MAA/B,CAAsC,UAACI,MAAD,EAASC,GAAT,EAAiB;AAC3E,cAAKC,cAAL,CAAoBD,GAApB;AACA,cAAKE,UAAL,CAAgBF,GAAhB;;AAEAD,eAAO,MAAKI,WAAL,CAAiBH,GAAjB,CAAP,IAAgCT,SAASM,OAAT,EAAkBG,GAAlB,CAAhC;AACA,eAAOD,MAAP;AACD,OANqB,EAMnB,EANmB,CAAtB;;AAQAH,iBAAWC,OAAX,IAAsB,8BAAY,MAAKP,YAAL,CAAkBO,OAAlB,CAAZ,EAAwCC,aAAxC,CAAtB;AACA,aAAOF,UAAP;AACD,KAZmB,EAYjB,EAZiB,CAApB;;AAcA,QAAGH,OAAOC,IAAP,CAAYF,WAAZ,EAAyBY,MAA5B,EAAoC;AAClC,YAAKC,OAAL,GAAeb,WAAf;AACD,KAFD,MAGK;AACH,YAAKa,OAAL,GAAe;AAAA,eAAM,MAAKf,YAAX;AAAA,OAAf;AACD;;AAtB4C;AAwB9C;;;;;kBA1BkBF,Y","file":"ComplexState.js","sourcesContent":["import State from './State'\r\nimport {makeReducer} from './makeReducer'\r\n\r\nexport default class ComplexState extends State {\r\n\r\n  constructor(name, initialState, subState = {}) {\r\n    super(name, initialState)\r\n\r\n    const subReducers = Object.keys(subState).reduce((subsResult, subsKey) => {\r\n\r\n      const modifiedParts = Object.keys(subState[subsKey]).reduce((result, key) => {\r\n        this.makeActionType(key)\r\n        this.makeAction(key)\r\n\r\n        result[this.actionTypes[key]] = subState[subsKey][key]\r\n        return result\r\n      }, {})\r\n\r\n      subsResult[subsKey] = makeReducer(this.initialState[subsKey], modifiedParts)\r\n      return subsResult\r\n    }, {})\r\n\r\n    if(Object.keys(subReducers).length) {\r\n      this.reducer = subReducers\r\n    }\r\n    else {\r\n      this.reducer = () => this.initialState\r\n    }\r\n\r\n  }\r\n\r\n}\r\n"]}